plugins {
  id 'com.github.ben-manes.versions'
  id 'idea'
  id 'base'
}

allprojects {
  repositories {
    jcenter()
    mavenCentral()
    mavenLocal()
    // for tut
    maven { url 'https://dl.bintray.com/tpolecat/maven/' }
  }

  group = 'org.opentorah'
  version = projectVersion

  configurations.all {
    resolutionStrategy {
      // v1.3.04 doesn't have org.w3c.dom.ElementTraversal that Xerces uses:
      force "xml-apis:xml-apis:$xmlApisVersion"
    }
  }
}

idea {
  project {
    jdkName = '1.8'
    vcs = 'Git'
  }

  module {
    excludeDirs += [
      file('.idea'),
      file('gradle')
    ]
  }
}

task site
site.description('Generates the website')
site.group('publishing')
site.dependsOn ':calendar:tut'
site.dependsOn ':papers:processDocBook'
site.dependsOn ':calendar-paper:processDocBook'
