plugins {
  id 'scala'
  id 'com.github.maiflai.scalatest'
  id 'com.google.cloud.tools.jib'
}

description = 'Jewish Calendar Service.'

dependencies {
  zinc "org.scala-sbt:zinc_$scalaVersionMajor:$zincVersion"

  implementation project(':library')
  implementation "org.opentorah:opentorah-store:$storeVersion"

  implementation "org.http4s:http4s-dsl_$scalaVersionMajor:$http4sVersion"
  implementation "org.http4s:http4s-blaze-server_$scalaVersionMajor:$http4sVersion"
  implementation "org.http4s:http4s-blaze-client_$scalaVersionMajor:$http4sVersion"

  implementation "com.lihaoyi:scalatags_$scalaVersionMajor:$scalatagsVersion"

  runtimeOnly "org.slf4j:slf4j-jdk14:$slf4jVersion"
}

jib {
  to {
    image = 'gcr.io/calendar/calendar'
  }
  container {
    mainClass = 'org.opentorah.calendar.service.CalendarService'
  }
}
